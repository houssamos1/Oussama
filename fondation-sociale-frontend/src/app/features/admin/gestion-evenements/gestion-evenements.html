<div class="space-y-6">
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Gestion des Événements</h1>
      <p class="text-gray-600">Organisez et gérez les événements de la fondation</p>
    </div>
    <button (click)="afficherFormulaire = !afficherFormulaire"
            class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
      <i class="fas fa-plus mr-2"></i>Nouvel événement
    </button>
  </div>

  <!-- Formulaire de création -->
  <div *ngIf="afficherFormulaire" class="bg-white rounded-lg card-shadow p-6">
    <h2 class="text-xl font-semibold text-gray-900 mb-6">Créer un nouvel événement</h2>
    
    <form class="space-y-6" (ngSubmit)="creerEvenement()">
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Titre *</label>
          <input type="text" 
                 [(ngModel)]="nouvelEvenement.titre"
                 name="titre"
                 required
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Type</label>
          <select [(ngModel)]="nouvelEvenement.type"
                  name="type"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
            <option value="">Sélectionnez un type</option>
            <option *ngFor="let type of types" [value]="type">{{ type | titlecase }}</option>
          </select>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
        <textarea rows="3" 
                  [(ngModel)]="nouvelEvenement.description"
                  name="description"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"></textarea>
      </div>

      <div class="grid md:grid-cols-3 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Date *</label>
          <input type="date" 
                 [(ngModel)]="nouvelEvenement.date"
                 name="date"
                 required
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Heure</label>
          <input type="time" 
                 [(ngModel)]="nouvelEvenement.heure"
                 name="heure"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Capacité max</label>
          <input type="number" 
                 [(ngModel)]="nouvelEvenement.capaciteMax"
                 name="capaciteMax"
                 min="1"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Lieu</label>
        <input type="text" 
               [(ngModel)]="nouvelEvenement.lieu"
               name="lieu"
               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
      </div>

      <div class="flex justify-end space-x-4">
        <button type="button" 
                (click)="afficherFormulaire = false"
                class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">
          Annuler
        </button>
        <button type="submit" 
                class="px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors">
          <i class="fas fa-save mr-2"></i>Créer l'événement
        </button>
      </div>
    </form>
  </div>

  <!-- Liste des événements -->
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div *ngFor="let evenement of evenements" class="bg-white rounded-lg card-shadow p-6">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">{{ evenement.titre }}</h3>
          <div class="flex flex-wrap gap-2 mb-3">
            <span class="px-2 py-1 rounded-full text-xs font-medium" [ngClass]="getTypeClass(evenement.type)">
              {{ evenement.type | titlecase }}
            </span>
            <span class="px-2 py-1 rounded-full text-xs font-medium" [ngClass]="getStatutClass(evenement.statut)">
              {{ evenement.statut | titlecase }}
            </span>
          </div>
        </div>
        <div class="flex space-x-2">
          <button (click)="modifierEvenement(evenement.id)"
                  class="text-blue-600 hover:text-blue-800">
            <i class="fas fa-edit"></i>
          </button>
          <button (click)="supprimerEvenement(evenement.id)"
                  class="text-red-600 hover:text-red-800">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>

      <p class="text-gray-600 text-sm mb-4">{{ evenement.description }}</p>

      <div class="space-y-2 text-sm text-gray-600">
        <div class="flex items-center">
          <i class="fas fa-calendar mr-2 text-primary-600"></i>
          <span>{{ evenement.date | date:'dd/MM/yyyy' }} à {{ evenement.heure }}</span>
        </div>
        <div class="flex items-center">
          <i class="fas fa-map-marker-alt mr-2 text-primary-600"></i>
          <span>{{ evenement.lieu }}</span>
        </div>
        <div class="flex items-center">
          <i class="fas fa-users mr-2 text-primary-600"></i>
          <span>{{ evenement.participants }}/{{ evenement.capaciteMax }} participants</span>
        </div>
      </div>

      <div class="mt-4 pt-4 border-t border-gray-200">
        <div class="w-full bg-gray-200 rounded-full h-2">
          <div class="bg-primary-600 h-2 rounded-full" 
               [style.width]="(evenement.participants / evenement.capaciteMax * 100) + '%'"></div>
        </div>
        <p class="text-xs text-gray-500 mt-1">
          {{ (evenement.participants / evenement.capaciteMax * 100) | number:'1.0-0' }}% de remplissage
        </p>
      </div>
    </div>
  </div>
</div>